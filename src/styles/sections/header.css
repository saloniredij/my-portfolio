/* Header */
.header {
    position: sticky; top: 0; z-index: 50;
    background-color: transparent; border-bottom: 1px solid transparent;
    transition: all 0.3s ease;
  }
  .header.light { background-color: rgba(255, 255, 255, 0.9); border-bottom-color: rgba(0,0,0,0.1); }
  .header.dark  { background-color: rgba(15, 23, 42, 0.9);   border-bottom-color: rgba(255,255,255,0.1); }
  
  .header-container { max-width: 1280px; margin: 0 auto; padding: 0 1rem; }
  @media (min-width: 640px) { .header-container { padding: 0 1.5rem; } }
  @media (min-width: 1024px){ .header-container { padding: 0 2rem;   } }
  
  .header-content { display: flex; justify-content: space-between; align-items: center; height: 4rem; }
  .header-logo { flex-shrink: 0; }
  
  .header-logo-link {
    font-family: var(--font-family-heading);
    font-size: 1.25rem; font-weight: 700; color: rgb(0,0,0);
    text-decoration: none; transition: color 0.2s ease;
  }
  .header-logo-link:hover { color: rgb(37, 99, 235); }
  .header.light .header-logo-link { color: rgb(0, 0, 0); }
  .header.light .header-logo-link:hover { color: rgb(37, 99, 235); }
  .header.dark .header-logo-link { color: rgb(255, 255, 255); }
  .header.dark .header-logo-link:hover { color: rgb(96, 165, 250); }
  
  .header-nav { display: none; }
  @media (min-width: 768px) { .header-nav { display: flex; gap: 0.25rem; } }
  .header-theme-toggle { display: flex; align-items: center; }
  
  /* Nav links + sliding active box */
  .nav-link {
    display: grid; align-items: center; height: 2.25rem; padding: 0 1rem;
    font-family: var(--font-family-brand); font-size: 0.875rem; font-weight: 500; letter-spacing: 0.025em;
    color: rgba(255, 255, 255, 0.5);
    text-decoration: none; transition: color 0.2s ease; position: relative; z-index: 1;
  }
  .nav-link:hover { color: rgb(255, 255, 255); }
  .nav-link.active { color: rgb(24, 24, 27); transition: color 0.5s ease; }
  
  .header.light .nav-link { color: rgba(0,0,0,0.5); }
  .header.light .nav-link:hover { color: rgb(0,0,0); }
  .header.light .nav-link.active { color: rgb(255, 255, 255); }
  
  .header.dark .nav-link { color: rgba(255,255,255,0.5); }
  .header.dark .nav-link:hover { color: rgb(255,255,255); }
  .header.dark .nav-link.active { color: rgb(24,24,27); }
  
  .header-nav { position: relative; display: flex; gap: 0.25rem; }
  .header-nav .active-box {
    position: absolute; background-color: rgb(255,255,255);
    border-radius: 0.5rem; z-index: 0;
    transition: top .5s ease, left .5s ease, width .5s ease, height .5s ease;
    pointer-events: none;
  }
  .header.light .header-nav .active-box { background-color: rgb(0,0,0); }
  .header.dark  .header-nav .active-box { background-color: rgb(255,255,255); }
  
  /* Theme toggle */
  .theme-toggle-button {
    padding: 0.75rem; border-radius: 0.5rem; background: none; border: none; cursor: pointer;
    transition: all 0.2s ease; display: flex; align-items: center; justify-content: center;
  }
  .theme-toggle-button:hover { background-color: rgba(0,0,0,0.05); }
  .header.dark .theme-toggle-button:hover { background-color: rgba(255,255,255,0.1); }
  .theme-toggle-button:focus { outline: none; }
  .theme-toggle-icon { width: 1.25rem; height: 1.25rem; }
  .theme-toggle-icon.light { color: rgb(245, 158, 11); }
  .theme-toggle-icon.dark  { color: rgb(96, 165, 250); }
  
  /* Mobile menu */
  .mobile-menu-button {
    display: block; padding: 0.5rem; border-radius: 0.5rem; color: rgb(0,0,0);
    background: none; border: none; cursor: pointer; transition: all 0.2s ease;
  }
  .mobile-menu-button:hover { color: rgb(37,99,235); background-color: rgba(0,0,0,0.05); }
  .header.dark .mobile-menu-button { color: rgb(255,255,255); }
  .header.dark .mobile-menu-button:hover { color: rgb(96,165,250); background-color: rgba(255,255,255,0.1); }
  @media (min-width: 768px) { .mobile-menu-button { display: none; } }
  .mobile-menu-icon { width: 1.5rem; height: 1.5rem; transition: transform 0.2s ease; }
  .mobile-menu-icon.open { transform: rotate(90deg); }
  