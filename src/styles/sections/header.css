/* Header */
.header {
    position: sticky; top: 0; z-index: 50;
    background-color: transparent; border-bottom: 1px solid transparent;
    transition: all 0.3s ease;
  }
  .header.light { background-color: rgba(255, 255, 255, 0.9); border-bottom-color: rgba(0,0,0,0.1); }
  .header.dark  { background-color: rgba(15, 23, 42, 0.9);   border-bottom-color: rgba(255,255,255,0.1); }
  
  .header-container { max-width: 1280px; margin: 0 auto; padding: 0 1rem; }
  @media (min-width: 640px) { .header-container { padding: 0 1.5rem; } }
  @media (min-width: 1024px){ .header-container { padding: 0 2rem;   } }
  
  
  .header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 4rem;
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
  
 .header-nav { 
  margin-left: 0;
  display: none;
}
  @media (min-width: 768px) { 
  .header-nav { 
    display: flex; gap: 0.25rem; } 
  }
  
  @media (max-width: 767px) {
  .header-content { 
    padding-right: 0.5rem; 
  }
}
  .header-theme-toggle { 
    display: flex; align-items: center; 
  }
  
  /* Nav links + sliding active box */
  .nav-link {
    display: grid; align-items: center; height: 2.25rem; padding: 0 1rem;
    font-family: var(--font-family-brand); font-size: 0.875rem; font-weight: 500; letter-spacing: 0.025em;
    color: rgba(255, 255, 255, 0.5);
    text-decoration: none; transition: color 0.2s ease; position: relative; z-index: 1;
  }
  .nav-link:hover { color: rgb(255, 255, 255); }
  .nav-link.active { color: rgb(24, 24, 27); transition: color 0.5s ease; }
  
  .header.light .nav-link { color: rgba(0,0,0,0.5); }
  .header.light .nav-link:hover { color: rgb(0,0,0); }
  .header.light .nav-link.active { color: rgb(255, 255, 255); }
  
  .header.dark .nav-link { color: rgba(255,255,255,0.5); }
  .header.dark .nav-link:hover { color: rgb(255,255,255); }
  .header.dark .nav-link.active { color: rgb(24,24,27); }
  
  .header-nav { position: relative; display: none; gap: 0.25rem; }
  @media (min-width: 768px) { .header-nav { display: flex; } }
  .header-nav .active-box {
    position: absolute; background-color: rgb(255,255,255);
    border-radius: 0.5rem; z-index: 0;
    transition: top .5s ease, left .5s ease, width .5s ease, height .5s ease;
    pointer-events: none;
  }
  .header.light .header-nav .active-box { background-color: rgb(0,0,0); }
  .header.dark  .header-nav .active-box { background-color: rgb(255,255,255); }
  
  /* Theme toggle */
  .theme-toggle-button {
    padding: 0.75rem; border-radius: 0.5rem; background: none; border: none; cursor: pointer;
    transition: all 0.2s ease; display: flex; align-items: center; justify-content: center;
  }
  .theme-toggle-button:hover { background-color: rgba(0,0,0,0.05); }
  .header.dark .theme-toggle-button:hover { background-color: rgba(255,255,255,0.1); }
  .theme-toggle-button:focus { outline: none; }
  .theme-toggle-icon { width: 1.25rem; height: 1.25rem; }
  .theme-toggle-icon.light { color: rgb(245, 158, 11); }
  .theme-toggle-icon.dark  { color: rgb(96, 165, 250); }
  
  /* Mobile menu */
  .mobile-menu-button {
    display: block; padding: 0.5rem; border-radius: 0.5rem; color: rgb(0,0,0);
    background: none; border: none; cursor: pointer; transition: all 0.2s ease;
  }
  .mobile-menu-button:hover { color: rgb(37,99,235); background-color: rgba(0,0,0,0.05); }
  .header.dark .mobile-menu-button { color: rgb(255,255,255); }
  .header.dark .mobile-menu-button:hover { color: rgb(96,165,250); background-color: rgba(255,255,255,0.1); }
  @media (min-width: 768px) { .mobile-menu-button { display: none; } }
  .mobile-menu-icon { width: 1.5rem; height: 1.5rem; transition: transform 0.2s ease; }
  .mobile-menu-icon.open { transform: rotate(90deg); }


  /* Mobile menu overlay + panel (non-Tailwind fallback) */
.mobile-menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  opacity: 0;
  visibility: hidden;
  transition: opacity 180ms ease, visibility 180ms ease;
  z-index: 40;
}
.mobile-menu-overlay.open {
  opacity: 1;
  visibility: visible;
}

/* Panel slides from top under header (header height ~4rem / 64px) */
.mobile-menu-panel {
  position: fixed;
  left: 0;
  right: 0;
  top: 4rem; /* matches .header height */
  transform: translateY(-8px) scaleY(0.98);
  transform-origin: top center;
  background: var(--header-bg, rgba(255,255,255,0.98));
  border-bottom: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 8px 24px rgba(2,6,23,0.35);
  transition: transform 220ms ease, opacity 180ms ease;
  opacity: 0;
  visibility: hidden;
  z-index: 50;
}

/* open state */
.mobile-menu-panel.open {
  transform: translateY(0) scaleY(1);
  opacity: 1;
  visibility: visible;
}

/* Dark mode adjustments */
.header.dark .mobile-menu-panel {
  background: rgba(15,23,42,0.98);
  border-bottom-color: rgba(255,255,255,0.06);
  box-shadow: 0 8px 24px rgba(2,6,23,0.6);
}

/* Inner nav spacing */
.mobile-menu-nav { padding: 0.75rem 1rem; display: flex; flex-direction: column; gap: 0.25rem; }

/* Mobile menu nav links â€” stack vertically and look like a menu */
.mobile-menu-nav .nav-link {
  display: block;
  padding: 0.75rem 1rem;
  height: auto;
  font-size: 1rem;
  color: rgba(255,255,255,0.7);
  border-radius: 0.375rem;
  margin-bottom: 0.25rem;
  transition: all 0.2s ease;
}

.mobile-menu-nav .nav-link:hover {
  color: rgb(255,255,255);
  background-color: rgba(255,255,255,0.08);
}

.mobile-menu-nav .nav-link.active {
  color: rgb(255,255,255);
  background-color: rgb(96,165,250);
  font-weight: 600;
}

/* Light mode mobile menu nav links */
.header.light .mobile-menu-nav .nav-link {
  color: rgba(0,0,0,0.6);
}

.header.light .mobile-menu-nav .nav-link:hover {
  color: rgb(0,0,0);
  background-color: rgba(0,0,0,0.05);
}

.header.light .mobile-menu-nav .nav-link.active {
  color: rgb(255,255,255);
  background-color: rgb(37,99,235);
}

/* Hide mobile elements on large screens */
@media (min-width: 768px) {
  .mobile-menu-button,
  .mobile-menu-overlay,
  .mobile-menu-panel {
    display: none;
  }
}
  
